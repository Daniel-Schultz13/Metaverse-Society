const { MerkleTree } = require("merkletreejs");
const keccak256 = require("keccak256");

let whitelistAddresses = [
  "0x8DD011CB96C8A1660Fe000cc21bb0A71379CC2EE",
  "0xdaAfC75bEC8B0FC00B55BA8d4E2a4E111f7b17C0",
  "0x1c2d400da1049c4b31F2De95F3401DB3594E2925",
  "0xbE0637C70Ee0128266B88c68c3015FB43c4394cc",
  "0x591c4c8e0341fb397545ad997e38aa716205Bb0F",
  "0x6efCCba5244Ce1B1f438EC43bD77735d9dF4403F",
  "0x0eEf7B5D0928EbC497a46D0f81e8E3AC986EE338",
  "0x5bADa9b58E51044B9c83E87EA9956259a95C163D",
  "0xd389a521C53c68d21B68D6Aa19da1Cd1f8b8A3f9",
  "0x1143382701346E0D08E7BCA82A40f3e3323ed008",
  "0x68f6DFecBcca4BFCD91ECE145788dfCd84BAf635",
  "0x455560147e442cdc279643c65b0e92b9d40ae0d7",
  "0x6Ae463074c9a262BF6bd46A6edf7FBD908124dA0",
  "0x346867e0c35776E2a567FFc722b0154E9D765075",
  "0x8c31CC0f18385951CA6AD7B05a4c0aDbC23074F3",
  "0xDe0dcCB32e5b4c8E634Fb052f2d6B93d2aD45762",
  "0xaec730982e2d84cba374d4cc0f9819912dab5949",
  "0xd10aF20883A173e3AD8d1Edf591293aF059E933c",
  "0x9c6a1f812B016c1bb8bC3aB8a0934DB83285182D",
  "0x64aD4D29F51A7e6a3457d1070916807B1596C8dF",
  "0x61675862cBF0ef255c91972Efcfc7d36beA8ab37",
  "0x9e9352d6673a17C062beb76E0A7799f713FC241f",
  "0x7db74E2AD11b720184d93DE1BC3aa12112aC6390",
  "0xF9f5a72142bd0bdb9A6053191104c010d912c1BD",
  "0x0BE75b26E89378F243C48626DC23Ce189cf05A88",
  "0x49cE84e37b2fC589B1A8819b811fe4a17B5Eac41",
  "0xd333360BF3002A088Dbb759e0A31cF6eE0D80FEd",
  "0x522D237eBB4Dee9430F7727135757203FBa2cBAb",
  "0x6064d25799CE49D09Eb2175b3997066FB0BF8532",
  "0xb83a6b03efb0ECbcF0D1cd94504d2B721311eed6",
  "0x4234b475b6d23296220389b8c51dcc141fa8D7B5",
  "0xF33b9815f7e615182EBC2E911503dE8412e398e8",
  "0xaBDe62569603BA7a8d03563Dc64551f0e4141137",
  "0x84405f00E352ED4d24BDd10F5180a34B3bfCE454",
  "0x102194e75Dd4602f6139faCae2293bAC49b2083a",
  "0xC3bbE23D7cb04EC44623875d495d3b771439DAe3",
  "0x6E4c51118111676e483414484Fd5e51C915349C1",
  "0x6A597bAF0805DAaB48a459358432F7AD1002C582",
  "0xCB85595C15ac25C0Ac1E50AA224705FeC28CBc6A",
  "0x116f01D799D722E3aeA4c701EA3e2DC2409E7A50",
  "0x83296420b532123Dc699B53704Fb250b846C4174",
  "0xC4921033a11388fD5852daAA40DbDc0cd40F7e67",
  "0x8D6365389A0bd37487Fa2263F7E5E20690E1B1C5",
  "0x345A058b89C8332A635Cd013B4764a62901D38cC",
  "0x66247AaB2d28D6b89D00d859915bF99B52082666",
  "0xC41D1857523063aECb5ca4e992156F4096e6F4F8",
  "0x9988E85B16acCd740697C5DDa601Fd6F750CD1ec",
  "0xA78e08aC120BB44d1DeF8FF8005e0a3D881A47f9",
  "0xF71196D24f26B94EC146619aa590Abe96A91eD5e",
  "0x72A6Fd5753343989af395b4d8e355483D145263F",
  "0xfF5cBA5f1456d141CFD92a57fC65011458E37FCb",
  "0xb82bd559c35DB82FcE2EF1a465bc22ed62489e16",
  "0x4086ca90162c16cA1852ff7e20cB20D4339300c1",
  "0x03a85fd5Ff680cc3b7340D5A3C81866F458BC5dB",
  "0xc80eE57b5e89163450A698a32A2BA0acd973EED2",
  "0x0082a52b99665F45594B707b4f567C9Fa8Cb914d",
  "0x3F69a1B4fed4408EF9724ad8879d92840d5AaEb2",
  "0x2f4497Efdc3FF5899ed649CC02Be9eB4e0C6237F",
  "0xDF9e066E8e95a5852CE8E3Fd75cf01489B0c1ADd",
  "0x883c63dEca5adAE4117040bdC057AC1D7a484dfE",
  "0x3e716A0E4dC07999Bf688d43c05dD85CB445168d",
  "0x92e4322B013b955eF5b698660D658aEaA3e1F39D",
  "0x843c98165f016356Ab805974136f8fAe84C0FaE3",
  "0x16BAe4198E75f6837C0Dc3914E1015bb498C8500",
  "0xD9fA3a762219815DE8cd656C772e5aaF46B8ef73",
  "0xF109D859fD5a3bad27368f5BF9e7cDbB8D840Bb2",
  "0xFeBeC31bDf1972c42E683476B89b40D9871A62f5",
  "0x4Fb7d58c887A7196b41B131bB1b5b50ebAc574cE",
  "0x2C0871a1Dc1Ae573808e0D5e6e05a994aAE9b70c",
  "0xdEc91a3cbA8a60E89a5CDbBDB89F857e869Ddac6",
  "0x2bC61b8bd497896ae4A8dfF9B5116FFc6a867298",
  "0x453F8Bfb6c90F639A9eB2c6A62D86f8077F8c1ed",
  "0x044577B80D39dfbeF0a0F6A64cC978dcca7ecF85",
  "0x9A1F318C7AE41e13244637437c62a1395638275A",
  "0xa6aA47733Eb529b228955059feFFdE3eF3EC6597",
  "0x5B2783Acce4420554906EE45722a95B2c4B8E22b",
  "0xCD4cDE7A20CB28273570B96d0FdCA7E1d112B27f",
  "0x9Ba86Ba04526449078cB8FB0EE284aE254b215A2",
  "0x098638b81a768642d447587A23209AdD63DCAE03",
  "0x362AdD85192bdFB5722b0F5Bb601E514e4d565b2",
  "0x20c849199A06c654074A3d3308A4EDE7E4e8A6f2",
  "0xf64de987eD9548B6D89d1806379a3247a7588b57",
  "0x941Bc94D2387E3136Fd6ebdb465a5EE23a01e835",
  "0xa53713E15996Da5e76b6566861160e932D7a2bB9",
  "0x080E00D18045981B53A2E9dEFeba8E37139D7EdD",
  "0xa680da2c6b5e52703457ea82880985f666bbedcf",
  "0xE2fBf4664862F83EC4Ce6C7dF7660395c122585D",
  "0xcEE218c33062C240F3C5e01b25E3B370Ab667c3F",
  "0x43420Ed98eb7c389861e77F1e3107Af8f697eC29",
  "0x29BC9B5f8C3e069F74533D070f1dE5a1Fe6D684c",
  "0x0b08Df04c94F47e926c19Be788cf80Cb0F27a902",
  "0x27bad4cfF7F844C3743c0821199c40A9f8963EFB",
  "0x349852dBc6537f1Ca661065885A042C463B02F38",
  "0x7E22bA8De99816eDCA23b6Df7B76202ef864b083",
  "0xd335b7E4e452C0b1EA3aD11A21d749975506c37E",
  "0x11d257cbe51c9B2B707df693297691E61D4a0301",
  "0x4e24447DcB7730B7F7Ffb83050B821b8B51c1CB3",
  "0xc0DE6BB1133f0F19A18165Dc944A4370D2A999e7",
  "0x7c27aAf6Fe51286364D651910cb83698f4e38695",
  "0x91fD5Ab8ae141705B31D30b51eA51E932A4Dc9a4",
  "0xCfdb92C953bD8a6B98678013233BBA360857B822",
  "0xcDeeE665228AD5a3c7A0F72818B1f6147270BE88",
  "0xccDc46968E6Aa87935AeB1414eaf309f79885297",
  "0x247b9451e1085edca74099fe9a2824e384d4cbdc",
  "0x5dF1cc68c8A72C6041c589e3fF40e003438b127F",
  "0x2AfcCC231cd032B01698831D5aa2DBB024C14460",
  "0x1f1E836584c46Caf3da8181D4a99c0ad184F7493",
  "0x34eA184c8867fDFD6f0fab5f9eeca3b5EBd44E93",
  "0xc0a19427469B6C364Dc156082afBb9a7Ed718aD5",
  "0xfb8130B0326D1Fa83714e6A67cc7C4c1735b92aa",
  "0xC6caea8c77a560FBfA6F788938073E08aA5f52f0",
  "0x867cDAF0513C4B6b4a91cEee5c850c87093e172F",
  "0xFc11eD853f70f7EE89229F8121DB9C153FD51b8C",
  "0x2C4FDb109d5245f18888FF5bCcbE09F84c859704",
  "0xc5CE7E0F40620dE1eDfb189c0430Cd745dA7B2Ed",
  "0xc5d45f63a8229C2782f9035399f1D415aCF522a1",
  "0xa7b49121a24c6A54438117D5CeB8cE5312F5877E",
  "0xa0b3bcd5D7ff5407CA144C0587A79473F80093e6",
  "0x3c1d2c94b305E213AFC2CDCDBf3E5E442487AD13",
  "0xcE76f64a15c0bd3DE7699717557019aAB45Fc8D5",
  "0xd6F595B69AE3Ca8c03038e8706339A5bda44478A",
  "0x1a75050c55A138488555f38f208ccB9EAf90d19C",
  "0x5f9b3BdB567c5d4C7f11E733a2c9a0FBdD023e22",
  "0x7E14481D94ff25DdcF194c59Bf5Dec6b426b73BE",
  "0x7Bd1Bd3cbBcE3760DC071cdaaDe0Bc0647224B04",
  "0x09a1264c4f475376305a801b6231D13687F5e790",
  "0xdf11C71D97b24dAba7fAcCaa5c3C320cD1F49Ef8",
  "0x88c44d8d3c07cB0d76cb1BB49932E8BBd3524dF4",
  "0xeD07754d3eA4DA7f86b321158578F2904715364a",
  "0x5B22579045aa510d979766A47E58C78453EF13EC",
  "0x111Ce65cA3E93E90AAb1078652bF9BB6d2043554",
  "0xc7938dd57fC048Ae09bCFEc62aD50CA65f27382C",
  "0xfDc3cae88FB014C2733EC0765D583F4Fdb476c0d",
  "0x6a73eb4e8EA2068ec539D2f0D15d757766E247E4",
  "0x76b9BE4e86D35B5E224dd87Db470231E84eFCc1E",
  "0xF2F0460C74b49aF98cDA08c3a4de7fe462707952",
  "0x671CD099c370cde378527d00E77d8c7Ecc798f01",
  "0x37ec1425C603Ad5cC2381C33aF328cb13466AD72",
  "0x9650681122B461E5243c361e24b50a4281C80d54",
  "0x61Ba6582B2561324a54A18C35e5A5F3A16483f62",
  "0xa62287c62812e9B62945783197F6f8A836fEa031",
  "0x48159A9DF05f416F866a67A21Ee51cD70E333cea",
  "0x785a8Da3Af9F555a0a716DbDcc24Daba7efeE87d",
  "0x24358c9bd6f50C3e743713C9D6f97017c6896039",
  "0xa0ccae156ddb0745df1a6af6a81fe7ed9117dd29",
  "0xb00c893800C689aBf72dc748cfEf69170edADaA1",
  "0xD4173671cde11D3fD50C709b1E0DE6531Be1856B",
  "0x80C13111058152B9C5eA0b7efb9fdA1ae1b4dc70",
  "0xc78B8d1eD3389CE2df818A1B5333B2810abDc331",
  "0x744f5d1b9Ae43eb2208269e8C1D801656e307D22",
  "0xeAE4ccFEbaAf0A54Ec93d879B744bC073713FFA7",
  "0x412Dd661dD1a066368bc9057a6A2518BF6Ecb411",
  "0x2683f534716DdB719b9f72F7628BBec76FDc61F9",
  "0xD989EF487F6FE5e44a6E6A9B7665cde1Bf6d8198",
];

const leafNodes = whitelistAddresses.map((addr) =>
  keccak256(addr).toString("hex")
);

const merkleTree = new MerkleTree(leafNodes, keccak256, { sortPairs: true });

const rootHash = merkleTree.getRoot();

console.log("MerkleTree: ", merkleTree.toString());

console.log("RootHash: ", rootHash.toString("hex"));

// const claimingAddress = leafNodes[6];
// console.log(whitelistAddresses[6]);
// const hexProof = merkleTree.getHexProof(claimingAddress);

// console.log(hexProof);

// console.log(
//   merkleTree.verify(
//     hexProof,
//     keccak256("0x154377ccFa7692c5E38f1Bf1E28beB569bB6D7a2").toString("hex"),
//     rootHash
//   )
// );

// const contractAddress = "0x600b341309fE29e70e3b6E825f9042B706C55e24";
// const privateKeys = [
//   "82e6e606d43a3adf9b61da2db0349a834d87b434fac2ea109e9f19652b7f115b",
//   "ec5ab8ef9354b914ce6e04b1b20a1e878f668ff89b0a8fa743b305474a369364",
//   "ffffc80f4c17baad86211c70e1e98dfd281ae31f69fbfe913bae9b75a63e80ee",
// ];
// const rinkebyRPC =
//   "https://rinkeby.infura.io/v3/9aa3d95b3bc440fa88ea12eaa4456161";

// const provider = new ethers.providers.JsonRpcProvider(rinkebyRPC);

// var wallet = new ethers.Wallet(privateKeys[0]);
// const account = wallet.connect(provider);
// console.log(account);

// const contract = new ethers.Contract(
//   contractAddress,
//   [
//     "function mintWhitelist(bytes32[] memory _merkleProof, uint256 numberOfTokens) public",
//   ],
//   account
// );

// const run = async () => {
//   if (merkleTree.verify(hexProof, leafNodes[0], rootHash)) {
//     const tx = await contract.mintWhitelist(hexProof, 1).catch((err) => {
//       console.log("transaction failed...");
//       console.log(err.reason);
//       console.log(err.code);
//     });
//     console.log(tx);
//   }
// };

// run();
